<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Super Saver Combos - DailyDishh</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@500;700;800;900&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { 
      margin: 0; 
      font-family: 'Quicksand', sans-serif; 
      background: #141414; /* Premium Dark Background */
      color: #fff;
      padding-bottom: 80px; 
    }

    /* --- HEADER --- */
    header {
      background: rgba(20, 20, 20, 0.95);
      backdrop-filter: blur(10px);
      padding: 15px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #333;
    }
    .brand {
      font-family: 'Pacifico', cursive;
      font-size: 24px;
      color: #FFC107;
    }
    .back-link {
      text-decoration: none;
      color: #000;
      font-weight: 800;
      font-size: 13px;
      background: #FFC107;
      padding: 8px 16px;
      border-radius: 30px;
    }

    /* --- HERO BANNER --- */
    .hero {
      text-align: center;
      padding: 30px 20px;
      background: linear-gradient(180deg, #1f1f1f 0%, #141414 100%);
      margin-bottom: 20px;
      border-bottom: 1px solid #333;
    }
    .hero h1 { margin: 0; font-size: 28px; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; color: #fff; }
    .hero span { color: #FFC107; }
    .hero p { margin: 5px 0 0; font-size: 14px; font-weight: 600; color: #888; }

    .container { max-width: 800px; margin: auto; padding: 0 15px; }

    /* --- COMBO CARD --- */
    .combo-card {
      background: #1e1e1e;
      border-radius: 20px;
      overflow: hidden;
      margin-bottom: 25px;
      border: 1px solid #333;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      position: relative;
    }
    
    .img-wrapper {
        position: relative;
        height: 180px;
    }
    .combo-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.9;
    }
    
    /* Dynamic Badge Styling */
    .badge {
        position: absolute;
        top: 15px; left: 15px;
        color: #000;
        padding: 6px 12px;
        font-size: 11px; font-weight: 900;
        text-transform: uppercase;
        border-radius: 4px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    }
    .badge-gold { background: #FFC107; }
    .badge-red { background: #ff5252; color: #fff; }
    .badge-green { background: #4caf50; color: #fff; }

    .card-body { padding: 20px; }
    
    .combo-title {
      font-size: 20px;
      font-weight: 800;
      color: #FFC107;
      margin-bottom: 15px;
      line-height: 1.3;
    }

    /* Ingredient List */
    .ingredients {
      list-style: none;
      padding: 0;
      margin: 0 0 20px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .ing-tag {
      background: #2a2a2a;
      color: #ddd;
      font-size: 11px;
      padding: 6px 12px;
      border-radius: 50px;
      font-weight: 600;
      border: 1px solid #444;
    }

    /* Price Section */
    .price-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      border-top: 1px dashed #444;
      padding-top: 15px;
    }
    .price-box { display: flex; flex-direction: column; }
    .original-price { text-decoration: line-through; color: #666; font-size: 14px; font-weight: 600; }
    .final-price { font-size: 28px; font-weight: 900; color: #fff; }
    .save-tag { color: #4caf50; font-size: 12px; font-weight: 800; background: rgba(76, 175, 80, 0.1); padding: 5px 10px; border-radius: 5px; }

    /* Add Button */
    .add-btn {
      width: 100%;
      background: #fff;
      color: #000;
      border: none;
      padding: 14px;
      font-size: 16px;
      font-weight: 900;
      border-radius: 12px;
      cursor: pointer;
      text-transform: uppercase;
      transition: transform 0.2s;
    }
    .add-btn:active { transform: scale(0.97); }

    .qty-control {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #FFC107;
      border-radius: 12px;
      padding: 5px;
    }
    .qty-btn {
      background: none; border: none;
      font-size: 24px; font-weight: 900;
      color: #000; width: 50px; cursor: pointer;
    }
    .qty-display { font-size: 18px; font-weight: 900; color: #000; }

    /* --- FLOATING CART --- */
    .floating-cart {
      position: fixed; bottom: 20px; right: 20px;
      background: linear-gradient(135deg, #FFC107, #FF8F00);
      width: 60px; height: 60px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 10px 30px rgba(255, 193, 7, 0.3); z-index: 2000;
      text-decoration: none; border: 3px solid #000;
    }
    .cart-icon { font-size: 28px; }
    .cart-badge {
      position: absolute; top: -5px; right: -5px; background: #fff; color: #000;
      font-size: 12px; font-weight: 900; width: 22px; height: 22px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center; border: 2px solid #000;
      opacity: 0; transform: scale(0); transition: all 0.3s ease;
    }
    .cart-badge.show { opacity: 1; transform: scale(1); }

  </style>
</head>
<body>

<header>
  <div class="brand">DailyDishh</div>
  <a href="index.html" class="back-link">Back to Menu</a>
</header>

<div class="hero">
  <h1>Mega <span>Combos</span></h1>
  <p>Luxury Meals at Unbeatable Prices</p>
</div>

<div class="container" id="comboContainer">
  </div>

<a href="cart.html" class="floating-cart" id="cartFloat">
  <span class="cart-icon">ðŸ›’</span>
  <span class="cart-badge" id="cartBadge">0</span>
</a>

<script>
  // EXACT DATA FROM INDEX.HTML (With Custom Badges added)
  const comboData = [
    { 
      name: "Office Lunch Combo (4 Tawa Roti, Plain Rice Half, Dal, Aloo Sabzi, Green Chutney, Salad, Pickles)", 
      price: 109, 
      img: "https://img-global.cpcdn.com/recipes/22c60a8d4573548e/1360x1562cq80/%E0%A4%B8%E0%A4%AA%E0%A4%B2-%E0%A4%B5%E0%A4%9C-%E0%A4%B2%E0%A4%9A-%E0%A4%A5%E0%A4%B2-%E0%A4%AE%E0%A4%A1-%E0%A4%A1-%E0%A4%AE%E0%A4%B2-%E0%A4%A6%E0%A4%B2-%E0%A4%9A%E0%A4%B5%E0%A4%B2-%E0%A4%86%E0%A4%B2-%E0%A4%B8%E0%A4%AC%E0%A4%9C-%E0%A4%B0%E0%A4%9F-%E0%A4%B8%E0%A4%B2%E0%A4%A6-%E0%A4%B0%E0%A4%B8%E0%A4%AA-%E0%A4%AE%E0%A4%96%E0%A4%AF-%E0%A4%A4%E0%A4%B8%E0%A4%B5%E0%A4%B0.webp",
      badgeText: "Super Saver ðŸ’°",
      badgeColor: "badge-green"
    },
    { 
      name: "Power Lunch Combo (4 Tawa Roti, Plain Rice Half, Dal, Special Chole, Salad, Pickles)", 
      price: 129, 
      img: "https://restaurantindia.s3.ap-south-1.amazonaws.com/s3fs-public/2025-05/High%20Protein%20Indian%20Meals%20You%20Should%20Try%20%E2%80%93%20Desi%2C%20Delicious%2C%20and%20Packed%20with%20Power.jpg",
      badgeText: "Best Seller ðŸ”¥",
      badgeColor: "badge-gold"
    },
    { 
      name: "Paneer Lover Combo (4 Tawa Roti / 7 Poori, Shahi Paneer, Special Chole, Plain Rice Half, Salad, Pickles)", 
      price: 179, 
      img: "https://cdn.uengage.io/uploads/28289/image-Q5F1AA-1768293023.png",
      badgeText: "Highly Rated â­",
      badgeColor: "badge-gold"
    },
    { 
      name: "Royal Veg Combo (4 Tawa Roti / 7 Poori, Kadhai Paneer, Special Chole, Daal Makhni, Masala Lassi, Lemon Rice, Desi Ghee Halwa, Salad, Pickles)", 
      price: 279, 
      img: "https://rakskitchen.net/wp-content/uploads/2017/04/indian-lunch-recipes.jpg",
      badgeText: "Chef's Special ðŸ‘‘",
      badgeColor: "badge-red"
    }
  ];

  let cart = JSON.parse(localStorage.getItem('dailydishh_cart')) || {};

  function renderCombos() {
    const container = document.getElementById("comboContainer");
    let html = "";

    comboData.forEach(item => {
      // 1. Parse Name & Ingredients
      let splitName = item.name.split('(');
      let title = splitName[0].trim();
      let ingHTML = "";
      
      if (splitName[1]) {
        let ingredients = splitName[1].replace(')', '').split(',');
        ingredients.forEach(ing => {
            ingHTML += `<li class="ing-tag">${ing.trim()}</li>`;
        });
      }

      // 2. Calculate Fake Price (Markup +120)
      let fakePrice = item.price + 120;
      let qty = cart[item.name] || 0;

      // 3. Button Logic
      let btnHTML = "";
      if (qty === 0) {
        btnHTML = `<button class="add-btn" onclick="modifyItem('${item.name}', 1)">ADD TO CART</button>`;
      } else {
        btnHTML = `
          <div class="qty-control">
            <button class="qty-btn" onclick="modifyItem('${item.name}', -1)">âˆ’</button>
            <span class="qty-display">${qty}</span>
            <button class="qty-btn" onclick="modifyItem('${item.name}', 1)">+</button>
          </div>
        `;
      }

      // 4. Build Card
      html += `
        <div class="combo-card">
          <div class="img-wrapper">
            <img src="${item.img}" alt="${title}">
            <span class="badge ${item.badgeColor}">${item.badgeText}</span>
          </div>
          <div class="card-body">
            <div class="combo-title">${title}</div>
            <ul class="ingredients">${ingHTML}</ul>
            
            <div class="price-row">
              <div class="price-box">
                <span class="original-price">â‚¹${fakePrice}</span>
                <span class="final-price">â‚¹${item.price}</span>
              </div>
              <span class="save-tag">SAVE â‚¹120</span>
            </div>

            ${btnHTML}
          </div>
        </div>
      `;
    });

    container.innerHTML = html;
  }

  function modifyItem(name, change) {
    if (!cart[name]) cart[name] = 0;
    cart[name] += change;
    if (cart[name] <= 0) delete cart[name];
    
    // Save to LocalStorage (Same key as index.html)
    localStorage.setItem('dailydishh_cart', JSON.stringify(cart));
    
    renderCombos();
    updateBadge();
  }

  function updateBadge() {
    let count = 0;
    for(let key in cart) { count += cart[key]; }
    const badge = document.getElementById("cartBadge");
    const cartBtn = document.getElementById("cartFloat");
    badge.innerText = count;
    if (count > 0) {
      badge.classList.add("show");
      cartBtn.style.transform = "scale(1.1)";
      setTimeout(() => cartBtn.style.transform = "scale(1)", 200);
    } else {
      badge.classList.remove("show");
    }
  }

  // Initialize
  renderCombos();
  updateBadge();

</script>
</body>
</html>
